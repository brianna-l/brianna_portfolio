<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leap</title>
    <link rel="stylesheet" href="css/styles.css" /><link rel="stylesheet" href="css/satoshi.css">
    <link rel="stylesheet" href="css/array.css">
</head>
<body>

  <div class="roll">
    <div class="roll-track">
      <h2>Start your journey to experience a world without IT.</h2>
      <h2>Start your journey to experience a world without IT.</h2>
      <h2>Start your journey to experience a world without IT.</h2>
    </div>
  </div>

  <main>
    <section class="carousel" aria-label="Story gallery">
      <ul class="deck" id="deck">
        <li class="card" onclick="location.href='travel-flight.html'">
          <div class="card-inner">Height<br><small>→</small></div>
        </li>
        <li class="card" onclick="location.href='travel-memory.html'">
          <div class="card-inner">Free<br><small>→</small></div>
        </li>
        <li class="card" onclick="location.href='travel-connection.html'">
          <div class="card-inner">Voice<br><small>→</small></div>
        </li>
        <li class="card" onclick="location.href='travel.html'">
          <div class="card-inner">Time<br><small>→</small></div>
        </li>
      </ul>
    </section>
  </main>

    <!-- Header -->
    <header class="site-header">
    <div class="container">
      <nav class="nav">
        <a href="index.html" aria-current="page" style="background-color: var(--muted);">Journey</a>
        <a href="archive.html">Archive</a>
        <a href="comments.html">Reflect</a>
      </nav>
      <h1 class="brand">LEAP</h1>
    </div>
  </header>

  <script>
    (function(){
      const deck = document.getElementById('deck');
      const cards = Array.from(deck.querySelectorAll('.card'));
      if (!cards.length) return;

      // rotation configuration
      const N = cards.length;
      const step = 360 / N;
      const radius = () => Math.min(window.innerWidth, 1200) * 0.34;

      // state
      let angle = 0;
      let target = 0;

      // initial ring layout
      function layout(){
        const r = radius();
        cards.forEach((card, i) => {
          const a = step * i;
          card.dataset.base = a;
          positionCard(card, a, r);
        });
        updateDepthLabels();
        deck.style.transform = `translateZ(0) rotateY(${angle}deg)`;
      }

      function positionCard(card, deg, r){
        card.style.transform = `
          translate(-50%, -50%)
          rotateY(${deg}deg)
          translateZ(${r}px)
        `;
      }

      // mark which card is in front/mid/back
      function updateDepthLabels(){
        const norm = ((angle % 360) + 360) % 360;
        let frontIdx = Math.round((360 - norm) / step) % N;
        if (frontIdx < 0) frontIdx += N;

        cards.forEach((c, i) => {
          const delta = Math.min(Math.abs(i - frontIdx), N - Math.abs(i - frontIdx));
          c.dataset.depth = delta === 0 ? 'front' : (delta === 1 ? 'mid' : 'back');
        });
      }

      // animation loop
      function render(){
        angle += (target - angle) * 1; // keep snap-fast behavior
        deck.style.transform = `translateZ(0) rotateY(${angle}deg)`;
        updateDepthLabels();
        requestAnimationFrame(render);
      }

      // navigation helpers
      function go(delta){ target += delta * step; }

      // keep arrow keys
      window.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight') go(1);
        if (e.key === 'ArrowLeft')  go(-1);
      });

      // keep scroll (wheel)
      deck.addEventListener('wheel', (e) => {
        e.preventDefault();
        target += (e.deltaY > 0 ? 1 : -1) * (step * 0.6);
      }, { passive: false });

      // remove drag/pointer navigation — intentionally omitted

      // responsive
      window.addEventListener('resize', layout);

      layout();
      render();
    })();
  </script>
    

</body>
</html>